<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Git Commit Amend Guide</title>
    <link rel="stylesheet" href="git_wrong_commit.css">
    <link rel="stylesheet" href="/copy_code_by_click/copy-code.css">
    <script src="/copy_code_by_click/copy-code.js" defer></script>
</head>
<body>
    <div class="container">
        <header>
            <h1>‚úèÔ∏è Git Commit Amend Guide</h1>
            <p>Simple guide to fix the last commit message or changes</p>
        </header>

        <div class="content">
            <h2>üìå When to Use?</h2>
            <ul>
                <li>When the last commit message is incorrect</li>
                <li>When wrong files were added to the last commit</li>
                <li>When you forgot to add some files in the last commit</li>
                <li>When you need to add minor changes to the last commit</li>
            </ul>

            <h2>üîß Only Change Commit Message</h2>
            <p>If you only want to fix the <strong>commit message</strong>:</p>

            <pre><code>git commit --amend -m "new correct commit message"</code></pre>

            <h3>Example:</h3>
            <pre><code>git commit --amend -m "Fix login bug in authentication module"</code></pre>

            <div class="output">
                <div class="output-title">‚úÖ Expected Output:</div>
                <pre><code>[main 1a2b3c4] Fix login bug in authentication module
 Date: Mon Oct 5 14:30:25 2025 +0530
 2 files changed, 15 insertions(+), 5 deletions(-)</code></pre>
            </div>

            <div class="info-box">
                <h4>What happens:</h4>
                <ul>
                    <li>‚úÖ Last commit message will change</li>
                    <li>‚úÖ Commit hash will change (becomes a new commit)</li>
                    <li>‚úÖ Files and changes remain the same</li>
                </ul>
            </div>

            <h3>Verify the changes:</h3>
            <pre><code>git log --oneline -1</code></pre>

            <div class="output">
                <div class="output-title">‚úÖ Expected Output:</div>
                <pre><code>1a2b3c4 Fix login bug in authentication module</code></pre>
            </div>

            <h2>üì§ Push the Changes</h2>

            <div class="step">
                <h3>If Not Pushed Yet:</h3>
                <pre><code>git push origin main</code></pre>

                <div class="output">
                    <div class="output-title">‚úÖ Expected Output:</div>
                    <pre><code>Enumerating objects: 5, done.
Counting objects: 100% (5/5), done.
Delta compression using up to 8 threads
Compressing objects: 100% (3/3), done.
Writing objects: 100% (3/3), 456 bytes | 456.00 KiB/s, done.
Total 3 (delta 2), reused 0 (delta 0), pack-reused 0
remote: Resolving deltas: 100% (2/2), completed with 2 local objects.
To https://github.com/username/project-name.git
   a1b2c3d..1a2b3c4  main -> main</code></pre>
                </div>
            </div>

            <div class="step">
                <h3>If Already Pushed:</h3>
                <pre><code>git push origin main --force</code></pre>

                <div class="output">
                    <div class="output-title">‚úÖ Expected Output:</div>
                    <pre><code>Enumerating objects: 5, done.
Counting objects: 100% (5/5), done.
Delta compression using up to 8 threads
Compressing objects: 100% (3/3), done.
Writing objects: 100% (3/3), 456 bytes | 456.00 KiB/s, done.
Total 3 (delta 2), reused 0 (delta 0), pack-reused 0
To https://github.com/username/project-name.git
 + a1b2c3d...1a2b3c4 main -> main (forced update)</code></pre>
                </div>

                <div class="warning">
                    <strong>‚ö†Ô∏è Warning:</strong> Make sure your team members have pulled the latest changes before using <code>--force</code>!
                </div>
            </div>

            <h2>üìù Summary Flow</h2>
            <div class="flow-diagram">
                Wrong Commit ‚Üí Amend ‚Üí Push/Force Push<br>
                &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;‚Üì&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;‚Üì&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;‚Üì<br>
                git commit&nbsp;&nbsp;--amend&nbsp;&nbsp;--force (if needed)
            </div>

            <h2>üí° Pro Tips</h2>

            <div class="info-box">
                <h4>1. Amend Multiple Times:</h4>
                <p>You can amend the same commit multiple times (until you push it)</p>
                <pre><code>git commit --amend -m "First correction"
git commit --amend -m "Second correction"
git commit --amend -m "Final correction"</code></pre>

                <div class="output">
                    <div class="output-title">‚úÖ Expected Output (for each amend):</div>
                    <pre><code>[main 1a2b3c4] Final correction
 Date: Mon Oct 5 14:30:25 2025 +0530
 2 files changed, 15 insertions(+), 5 deletions(-)</code></pre>
                </div>
            </div>

            <div class="info-box">
                <h4>2. Check Before Push:</h4>
                <p>Always verify with <code>git log</code> before pushing</p>
                <pre><code>git log --oneline -3</code></pre>

                <div class="output">
                    <div class="output-title">‚úÖ Expected Output:</div>
                    <pre><code>1a2b3c4 Fix login bug in authentication module
e9d8c7b Previous commit
c5d4e3f Another commit</code></pre>
                </div>
            </div>

            <div class="info-box">
                <h4>3. Local Testing:</h4>
                <p>Test your code after amending</p>
                <pre><code># Run your tests
npm test
# or
python -m pytest
# or
./run-tests.sh</code></pre>
                <div class="note">
                    <strong>üí° Tip:</strong> Testing ensures that your code works properly even after amending
                </div>
            </div>

            <div class="warning">
                <h4>4. Avoid on Main Branch:</h4>
                <p>Avoid amending on the main branch (especially pushed commits)</p>
                <ul>
                    <li>Use it on feature branches</li>
                    <li>Coordinate with your team</li>
                    <li>Be careful on shared branches</li>
                </ul>
            </div>

            <h2>üéØ Additional Use Cases</h2>

            <div class="step">
                <h3>Adding Forgotten Files to Last Commit:</h3>
                <p>If you forgot to add a file in the last commit:</p>

                <pre><code># First stage the file
git add forgotten-file.js

# Then amend (message stays the same)
git commit --amend --no-edit</code></pre>

                <div class="output">
                    <div class="output-title">‚úÖ Expected Output:</div>
                    <pre><code>[main 1a2b3c4] Fix login bug in authentication module
 Date: Mon Oct 5 14:30:25 2025 +0530
 3 files changed, 20 insertions(+), 5 deletions(-)
 create mode 100644 forgotten-file.js</code></pre>
                </div>

                <div class="note">
                    <strong>üí° Note:</strong> The <code>--no-edit</code> flag keeps the commit message unchanged
                </div>
            </div>

            <div class="step">
                <h3>Changing Both Message and Files:</h3>
                <p>To change the message and add files at the same time:</p>

                <pre><code># Stage files
git add new-file.js updated-file.js

# Amend with new message
git commit --amend -m "Fix login bug and add validation"</code></pre>

                <div class="output">
                    <div class="output-title">‚úÖ Expected Output:</div>
                    <pre><code>[main 1a2b3c4] Fix login bug and add validation
 Date: Mon Oct 5 14:30:25 2025 +0530
 4 files changed, 35 insertions(+), 10 deletions(-)
 create mode 100644 new-file.js</code></pre>
                </div>
            </div>

            <div class="step">
                <h3>Interactive Amend (Edit in Editor):</h3>
                <p>If you want to write a detailed message in the editor:</p>

                <pre><code>git commit --amend</code></pre>

                <div class="output">
                    <div class="output-title">‚úÖ Expected Output:</div>
                    <pre><code># Your default editor will open with the commit message
# Edit the message, save and close the editor

[main 1a2b3c4] Fix login bug in authentication module

Added proper error handling for login failures
- Implemented try-catch blocks
- Added user-friendly error messages
- Updated tests

 Date: Mon Oct 5 14:30:25 2025 +0530
 2 files changed, 15 insertions(+), 5 deletions(-)</code></pre>
                </div>
            </div>

            <h2>‚ö†Ô∏è Important Warnings</h2>

            <div class="warning">
                <h4>Never Amend Pushed Commits on Shared Branches!</h4>
                <ul>
                    <li>‚ùå Avoid amending on main/master branch</li>
                    <li>‚ùå Amending on public branches is dangerous</li>
                    <li>‚úÖ Amending on your feature branch is safe</li>
                    <li>‚úÖ Amending before pushing is safe</li>
                </ul>
            </div>

            <div class="warning">
                <h4>Force Push Consequences:</h4>
                <p>If you force push:</p>
                <ul>
                    <li>Team members will face conflicts</li>
                    <li>History will be rewritten</li>
                    <li>Coordination is necessary</li>
                </ul>
                <p><strong>Solution:</strong> Use <code>--force-with-lease</code> for safety</p>
                <pre><code>git push origin main --force-with-lease</code></pre>
            </div>

            <h2>üîÑ Comparison: Amend vs Reset</h2>

            <div class="info-box">
                <table style="width: 100%; border-collapse: collapse;">
                    <thead>
                        <tr style="background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); color: white;">
                            <th style="padding: 10px; text-align: left;">Feature</th>
                            <th style="padding: 10px; text-align: left;">Amend</th>
                            <th style="padding: 10px; text-align: left;">Reset</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td style="padding: 10px; border-bottom: 1px solid #ddd;"><strong>Use Case</strong></td>
                            <td style="padding: 10px; border-bottom: 1px solid #ddd;">Fix last commit only</td>
                            <td style="padding: 10px; border-bottom: 1px solid #ddd;">Go back multiple commits</td>
                        </tr>
                        <tr>
                            <td style="padding: 10px; border-bottom: 1px solid #ddd;"><strong>Complexity</strong></td>
                            <td style="padding: 10px; border-bottom: 1px solid #ddd;">Simple</td>
                            <td style="padding: 10px; border-bottom: 1px solid #ddd;">More complex</td>
                        </tr>
                        <tr>
                            <td style="padding: 10px; border-bottom: 1px solid #ddd;"><strong>Safety</strong></td>
                            <td style="padding: 10px; border-bottom: 1px solid #ddd;">Safer</td>
                            <td style="padding: 10px; border-bottom: 1px solid #ddd;">More risky</td>
                        </tr>
                        <tr>
                            <td style="padding: 10px;"><strong>Changes History</strong></td>
                            <td style="padding: 10px;">Only last commit</td>
                            <td style="padding: 10px;">Multiple commits</td>
                        </tr>
                    </tbody>
                </table>
            </div>

        </div>
    </div>
</body>
</html>